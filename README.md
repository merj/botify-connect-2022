# Risk Management Playbook Scenarios

Build up a fast, reactive set of risk reports.

| Alert Trigger | Visualisations to show |
| ------ | ------ |
| If product publish status changed from online to offline from yesterday and the stock count is greater than 0. | - Line graph with (line 1) all products and (line 2) all products that are offline with a stock greater than 0.<br/>- Table with all products offline with a stock greater than 0. |
| If URLs contain duplicate parameter keys, i.e `example.com/test?foo=bar&foo=quix` | - Table of internal links to the duplicated parameter keys<br/>- Table of external (referral) links to the duplicate parameter keys |
| If Googlebot visits URLs that have a URL Path character length of more than `>`, `>=`, `==`, `<=`, `<` | - Table with parameter key count<br/>- Table with parameter value count - Table with parameter key of length more than X characters<br/>- Table with URL path of length more than X characters<br/>- Table with URL path that contains a particular character more than X times (i.e. "/", ".", "-") |
| If Googlebot visits URLs that have a URL Query parameter key of `>`, `>=`, `==`, `<=`, < characters. | - Table with URL paths associated<br/>- Table of similarly named parameter keys<br/>- Table of the unique parameter keys with their overall count |
| If URLs have a URL Query parameter value of `>`, `>=`, `==`, `<=`, `<` characters. | - Table with all parameters without a value and list their associated URL path.<br/>- A graph of parameters that do not contain a value over time |
| If brand webpage contains no products, but brand has product inventory greater than 0. | - Line graph with (line 1) all brand products, (line 2) all brand products that are offline with a stock greater than 0, (line 3) all products that are offline with a stock greater than 0. <br/>- Table with all brand products offline with a stock greater than zero |
| If Google `site:example.com inurl:brands` page count changes more than 1% and no brands added or removed. | - Trigger alert to Slack showing the difference between the previous and the current page count |
| If a geography (country, city or town) changes name for a locale. | - Per locale, show the difference between the old and new name. <br />- In a table, show associated public news related to the name change. <br/>- In a table, show the results of a Github search for the old name |
| If the XML sitemap index `<loc>` count changes. | - Graph of XML sitemaps with the count of internal `<loc>` links. <br />- Show a difference between the old <loc> and the new <loc> count. |
| If the product XML sitemap `<loc>` count changes but the product inventory publication has not changed. | - Table with the product XML sitemap `<loc>` URLs not present in the product inventory |
| If structured data is removed from a webpage. | - Table with the list of Git commits associated with the structured data <br/>- Table of Jira tickets associated with the structured data |
| If `robots.txt` file is changed from the previous check, show the related Jira tickets and Github commits. | - Show the difference between the previous and current `robots.txt` content. <br/>- Table with the list of Git commits associated with the `robots.txt` functionality <br/>- Table of Jira tickets associated with the `robots.txt` functionality <br/>- From the previous 30 days of server logs, show a list of all URLs that impacts Googlebot along with the total entry count per day for each URL. |
| If `TTFB` increased for a particular region. | - Table of region cloud instances status <br/>- Line graph with the number of bytes per page |
| If Googlebot gets an inconsistent number of bytes for a specific page over a defined period of time/number of fetches. | - Line graph with the number of bytes per page fetch over a period of time <br/>- Bar char with the number of pages fetches over a period of time |
| If a page is present in the server logs, can be indexed, and the status code is 200 but doesn't have a corresponding rendering log within X hours/days. | - Line graph with the number of pages not rendered within X hours/days over a period of time <br/>- Table of pages ordered by the number of rendering over a period of time |
| If a page is rendered multiple times. | - Line graph with the number of pages rendered multiple times over a period of time <br/>- Table of pages ordered by the number of rendering over a period of time |
| If a query for internal site search is searched more than X times per day and there are no products. | - Table of search volume (Google) by country (or city) if localised <br/>- Graph showing internal search over time <br/>- A table of internal similar searches with and without products |
| If the country of the HTTP request does not match the associated country for the URL, ccTLD or Subdomain. | - Show a geographic map with each mismatched country with a count. <br/>- Table of countries with the associated mismatched countries. <br/>- Table of top mismatched URLs by country, showing HREFLANG alternative sources |
